ktor {
  deployment {
    port = ${?PORT}
    ## SSL, necesario habilitarlo
    sslPort = ${?SSL_PORT}
  }
  application {
    modules = [ com.miscuentas.ApplicationKt.module ]
  }

  ## Development mode
  # Enable development mode. Recommended to set it via -Dktor.deployment.environment=development
  # development = true
  deployment {
    ## Watch for changes in this directory and automatically reload the application if any file changes.
    watch = [ classes, resources ]
  }

  ## Modo de ejecuci√≥n
  environment = dev
  environment = ${?KTOR_ENV}


  ## Habilitar SSL. Necesario generar certificados y asociarlos aqui:
  security {
    ssl {
      keyStore = ${env.SSL_KEYSTORE_PATH}
      keyAlias = ${env.SSL_KEY_ALIAS}
      keyStorePassword = ${env.SSL_KEYSTORE_PASSWORD}
      privateKeyPassword = ${env.SSL_PRIVATE_KEY_PASSWORD}
    }
  }
}
## MySql
database {
  driverClassName = ${DB_DRIVER}
  jdbcURL = ${DB_URL}
}

## JWT
jwt {
  secret = ${JWT_SECRET}
  realm = ${JWT_REALM}
  ## Expiration time: 3600s (1 hour)
  expiration = ${JWT_EXPIRATION}
  issuer = ${JWT_ISSUER}
  audience = ${JWT_AUDIENCE}
}

